Object subclass: #DescuentoPorMinutos	instanceVariableNames: 'descuento minutosNecesarioDescuento'	classVariableNames: ''	package: 'TP1'!!DescuentoPorMinutos methodsFor: 'initialization' stamp: 'EdgardoFranciscoSaez 4/15/2022 16:40'!initialize 	descuento := 0.9.	minutosNecesarioDescuento := 30.! !!DescuentoPorMinutos methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/15/2022 16:36'!aplicarDescuentoAMonto: unMonto conMinutos: unosMinutos	(self aplicaDescuentoConMinutos: unosMinutos ) ifTrue: [ ^  unMonto * descuento ].	^ unMonto.! !!DescuentoPorMinutos methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/15/2022 16:26'!aplicaDescuentoConMinutos: unosMinutos	^ unosMinutos >= minutosNecesarioDescuento.! !Error subclass: #DuracionInvalida	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!Error subclass: #HorarioInvalido	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!Object subclass: #LlamadaInternacional	instanceVariableNames: 'duracion horario destino tarifaPorMinuto descuentoAplicable'	classVariableNames: ''	package: 'TP1'!!LlamadaInternacional methodsFor: 'initialization' stamp: 'EdgardoFranciscoSaez 4/17/2022 14:25'!initialize 	descuentoAplicable := DescuentoPorMinutos new.! !!LlamadaInternacional methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/17/2022 14:27'!calcularGastoLlamada	^ descuentoAplicable aplicarDescuentoAMonto: (duracion * tarifaPorMinuto) conMinutos: duracion.! !!LlamadaInternacional methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/23/2022 11:01'!duracion: unaDuracion yHorario: unHorario hacia: unPais conTarifaPorMin: unaTarifa		duracion := unaDuracion.	horario := unHorario.	destino := unPais.	tarifaPorMinuto := unaTarifa.! !!LlamadaInternacional methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/24/2022 09:11'!descripcion 	^  'La llamada se hizo a ',destino asString,' a las ',horario asString, ' hs durando ' ,duracion asString, ' minutos'.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LlamadaInternacional class	instanceVariableNames: ''!!LlamadaInternacional class methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/23/2022 11:01'!conDuracion: unaDuracion enHorario: unHorario hacia: unPais conTarifaPorMin: unaTarifa	| llamada |		llamada := self new.	llamada duracion: unaDuracion yHorario: unHorario hacia: unPais conTarifaPorMin: unaTarifa.	^ llamada.  	! !Object subclass: #LlamadaNacional	instanceVariableNames: 'duracion horario tarifaPorMinuto tarifaPorMinutoHorarioHabil descuentoAplicable destino'	classVariableNames: ''	package: 'TP1'!!LlamadaNacional methodsFor: 'initialization' stamp: 'EdgardoFranciscoSaez 4/17/2022 15:03'!initialize 	tarifaPorMinuto := 0.1.	tarifaPorMinutoHorarioHabil := 0.2.	destino := 'Argentina'.	descuentoAplicable := DescuentoPorMinutos new.	! !!LlamadaNacional methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/23/2022 11:00'!duracion: unaDuracion yHorario: unHorario		duracion := unaDuracion.	horario := unHorario.! !!LlamadaNacional methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/21/2022 16:42'!calcularGastoLlamada		(self esHorarioHabil: horario) ifTrue: [ ^ descuentoAplicable aplicarDescuentoAMonto: self precioHorarioHabil conMinutos: duracion].	^ descuentoAplicable aplicarDescuentoAMonto: self precioHorarioNoHabil conMinutos: duracion.! !!LlamadaNacional methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/21/2022 15:52'!precioHorarioNoHabil		^ duracion * tarifaPorMinuto.! !!LlamadaNacional methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/24/2022 09:11'!descripcion 	^  'La llamada se hizo a ',destino asString,' a las ',horario asString, ' hs durando ' ,duracion asString, ' minutos'.	! !!LlamadaNacional methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/15/2022 18:34'!esHorarioHabil: unHorario	^ unHorario between: 8 and: 20.! !!LlamadaNacional methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/21/2022 15:52'!precioHorarioHabil		^ duracion * tarifaPorMinutoHorarioHabil.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LlamadaNacional class	instanceVariableNames: ''!!LlamadaNacional class methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/23/2022 11:00'!conDuracion: unaDuracion enHorario: unHorario	|llamada|		llamada := self new.	llamada duracion: unaDuracion yHorario: unHorario.	^ llamada.! !Object subclass: #TeleAlgo	instanceVariableNames: 'abonoMensual llamadas tarifaInternacional'	classVariableNames: ''	package: 'TP1'!!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/21/2022 17:03'!registrarLlamadaNacionalConDuracion: unaDuracion HechaEnElHorario: unHorario	(unHorario between: 1 and: 24) ifFalse: [ HorarioInvalido signal: 'El horario debe ser un numero natural entre 1 y 24' ].	(unaDuracion < 0) ifTrue: [ DuracionInvalida signal: 'La duracion de la llamada deber ser mayor a igual a 0' ] . 	llamadas add: (LlamadaNacional conDuracion: unaDuracion  enHorario: unHorario).	 ! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/21/2022 16:58'!abonoMensaual: unMonto	abonoMensual := unMonto.! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/21/2022 16:58'!aplicarTarifaPorMinutoALlamadaInternacional: unaTarifaInternacional	tarifaInternacional := unaTarifaInternacional.! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/15/2022 18:13'!calcularGastoFinal	| costoLlamadas|		costoLlamadas := 0.	costoLlamadas := llamadas sum: [ : llamada |llamada calcularGastoLlamada ].	^ costoLlamadas + abonoMensual.! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/24/2022 10:07'!consultarPorLlamadaEfectuadaMasCostosa 	| masCostosa | 		llamadas ifEmpty: [ ^ 'No se ha realizado ninguna llamada' ].	masCostosa := llamadas detectMax: [ : llamada | llamada calcularGastoLlamada ].	^ 'La llamada mas costosa: ', masCostosa descripcion.! !!TeleAlgo methodsFor: 'accessing' stamp: 'EdgardoFranciscoSaez 4/24/2022 10:00'!registrarLlamadaInternacionalCon: unaDuracion HechaEnElHorario: unHorario Hacia: unPais	(unHorario between: 1 and: 24) ifFalse: [ HorarioInvalido signal: 'El horario debe ser un numero natural entre 1 y 24' ].	(unaDuracion < 0) ifTrue: [ DuracionInvalida signal: 'La duracion de la llamada deber ser mayor a igual a 0' ] . 	llamadas add: (LlamadaInternacional conDuracion: unaDuracion enHorario: (unHorario) hacia: unPais conTarifaPorMin: tarifaInternacional).		! !!TeleAlgo methodsFor: 'initialization' stamp: 'EdgardoFranciscoSaez 4/17/2022 15:09'!initialize 	llamadas := OrderedCollection new.	tarifaInternacional := 1.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TeleAlgo class	instanceVariableNames: ''!!TeleAlgo class methodsFor: 'as yet unclassified' stamp: 'EdgardoFranciscoSaez 4/14/2022 16:30'!conAbonoMensual: unMonto	| teleAlgo |		teleAlgo := self new.	teleAlgo abonoMensaual: unMonto.	^ teleAlgo.! !